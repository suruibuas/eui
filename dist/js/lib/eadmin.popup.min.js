/*!
 eadmin极速后台UI框架（我只想要个后台） | @author:317953536@qq.com 
*/
"use strict";var _createClass=function(){function i(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,e){return n&&i(t.prototype,n),e&&i(t,e),t}}();function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var Popup=function(){function t(){_classCallCheck(this,t),this.Timer=null}return _createClass(t,null,[{key:"alert",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._createHtml({title:"消息提示",icon:"exclamation-circle color-warning",txt:t.content,btn:'<button id="close" class="highlight middle">确定 (<em>3</em>)</button>'}),Eadmin.mask();var n=$(".popup");fadeIn(n),this._countdown(n,t)}},{key:"success",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._createHtml({title:"操作成功",icon:"check-circle color-success",txt:t.content,btn:'<button id="close" class="highlight middle">确定 (<em>3</em>)</button>'}),Eadmin.mask();var n=$(".popup");fadeIn(n),this._countdown(n,t)}},{key:"error",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._createHtml({title:"操作失败",icon:"times-circle color-error",txt:t.content,btn:'<button id="close" class="highlight middle">确定 (<em>3</em>)</button>'}),Eadmin.mask();var n=$(".popup");fadeIn(n),this._countdown(n,t)}},{key:"confirm",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._createHtml({title:"操作确认",icon:"question-circle color-warning",txt:t.content,btn:'<button id="sure" class="highlight middle" style="margin-right:5px;">确定</button>\n\t\t\t\t\t<button id="close" class="middle">取消</button>'}),Eadmin.mask();var n=$(".popup");fadeIn(n),n.find("#close").on("click",function(){Eadmin.maskHide(),fadeOut(n)}),n.find("#sure").on("click",function(){$(this).html("执行中...").attr("disabled",!0),null!=t.callback&&_.isFunction(t.callback)&&t.callback()})}},{key:"_createHtml",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(t.icon="fa fa-"+t.icon,1==$(".popup").length){var n=$(".popup");n.is(":visible")&&n.hide();var e={title:n.children(".title"),icon:n.children("i"),txt:n.children(".txt"),btn:n.children(".btn")};e.title.html(t.title),e.icon.attr("class",t.icon),e.txt.html(t.txt),e.btn.html(t.btn)}else{var i='<div class="popup animated faster dn">\n\t\t\t\t<span class="title">'+t.title+'</span>\n\t\t\t\t<i class="'+t.icon+'"></i>\n\t\t\t\t<span class="txt">'+t.txt+'</span>\n\t\t\t\t<div class="btn">'+t.btn+"</div>\n\t\t\t</div>";$("body").append(i)}}},{key:"_countdown",value:function(t,n){var e=this,i=function(){Eadmin.maskHide(),fadeOut(t),clearInterval(e.Timer),(e.Timer=null)!=n.callback&&_.isFunction(n.callback)&&n.callback(),null!=n.refresh&&n.refresh&&Eadmin.refresh()},l=3;this.Timer=setInterval(function(){0!=--l?t.find("em").html(l):i()},1e3),t.find("#close").on("click",function(){i()})}}]),t}();